<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>The Family Pack - Database: Dates</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel='stylesheet' type='text/css' href='../tfp.css' />
<style type="text/css">
 table.flags {
  display: inline-table;
  float: right;
  border: 2px solid black;
  border-collapse: collapse;
  margin-left: 1em;
 }
 table.flags td, table.flags th {
  border: 1px solid black;
  padding: 2px 5px;
 }
 table.flags th {
  background-color: #fed;
 }
 span.field {
  font-family: courier, monospace;
  font-size: larger;
  font-weight: bold;
 }
</style>
</head>
<body>

<h1><a  href="../index.htm"><img id="logo" src="../tfp5.gif" alt="Logo" /></a>The Family Pack<br/>Database: Dates</h1>

<div id="page" class="database">

<div id="menu">
  <a href="../index.htm" class="m-item">Home</a>
  <a href="../man/manual0-0.htm" class="m-item">TFP Manual</a>
  <a href="database.htm" class="m-item">Database</a>
  <a href="dbdesign.htm" class="m-item level1">Definitions</a>
  <a href="dbdiagram.htm" class="m-item level1">Diagram</a>
  <a href="dates.htm" class="m-item level1 thispage">Dates</a>
  <a href="places.htm" class="m-item level1">Places</a>
  <a href="personas.htm" class="m-item level1">Personas</a>
<!--
  <a href="attributes.htm" class="m-item level1">Attributes</a>
  <a href="events.htm" class="m-item level1">Events</a>
  <a href="references.htm" class="m-item level1">References</a>
  <a href="individuals.htm" class="m-item level1">Individuals</a>
  <a href="families.htm" class="m-item level1">Families</a>
-->
  <a href="../com/common.htm" class="m-item">Common Data</a>
  <a href="../dev/develop.htm" class="m-item">Development</a>
  <p style="text-align: center;">
    The project page at<br />
    <a href="http://sourceforge.net/projects/thefamilypack">
      <img src="http://sflogo.sourceforge.net/sflogo.php?group_id=353528&amp;type=13"
        width="120" height="30"
        alt="Get The Family Pack at SourceForge.net. Fast, secure and Free Open Source software downloads"
      />
    </a>
  </p>
</div>

<div id="content">

<blockquote>
<p>
 We do NOT know the past in chronological sequence. It may be convenient to lay it out anaesthetized on the table with dates pasted on here and there, but what we know we know by ripples and spirals eddying out from us and from our own time.
</p>
<p class="attribute">Ezra Pound</p>
</blockquote>

<div class="diag"><img src='tfp-date.png' alt='Date Subsystem' /></div>
<h2>Dates</h2>
<p>
 The Date entity is used to record a single day in history, a day being the shortest period of time that the database can record. The simplest way for a computer to keep track of time is to count the number of days from a fixed point in history, the starting point for the database is Monday 1st January 4713 B.C.E. (Julian). This is day zero for the julian day, the astrological day numbering system. So good news for those of you who can trace their family back the the Ancient Egyptians.
</p>
<p>
 The date entity copes with uncertainty by recording both a date <span class="field">[jdn]</span> and a range <span class="field">[range]</span> of days which my be zero. It is probably easier to consider the entity as a start date <span class="field">[jdn]</span> and end date <span class="field">[jdn+range]</span>. The set of flags <span class="field">[type]</span>, "<b>B</b>efore", "<b>O</b>n" and "<b>A</b>fter" are used to indicate how the start and end dates are to be interpreted.
</p>
<p>
<table class="flags">
 <tr><th>B</th><th>O</th><th>A</th><th>Style</th></tr>
 <tr><td>0</td><td>0</td><td>0</td><td>Invalid date</td></tr>
 <tr><td>0</td><td>0</td><td>1</td><td>After 19 Sep 1948</td></tr>
 <tr><td>0</td><td>1</td><td>0</td><td>On 19 Sep 1948</td></tr>
 <tr><td>0</td><td>1</td><td>1</td><td>On 19 Sep 1948 or after</td></tr>
 <tr><td>1</td><td>0</td><td>0</td><td>Before 19 Sep 1948</td></tr>
 <tr><td>1</td><td>0</td><td>1</td><td>Not 19 Sep 1948</td></tr>
 <tr><td>1</td><td>1</td><td>0</td><td>On 19 Sep 1948 or before</td></tr>
 <tr><td>1</td><td>1</td><td>1</td><td>About 19 Sep 1948</td></tr>
</table>
 Consider the time line is divided into three sections by the start and finish dates. The type flags are used to indicate how these periods are interpreted. These flags can be used in combination - but where the central period is not zero and the On flag is set this may lead to some ambiguity. So the assumption is made that in these cases that the central period is more likely than the other (Before or After) periods.
</p>
<p>
 The database will keep a record of the calendar scheme that the date was originally recorded in <span class="field">[record_sch]</span> (where known) as well as the preferred scheme normally used to display the date <span class="field">[display_sch]</span>. The concept of a calendar scheme covers the Julian and Gregory calendars as well as the short lived French Revolutionary Calender and other world styles. It will also extend the concept to country schemes, which will cover the change over from the Julian to Gregory calendar. So the English Calendar scheme which follows the Julian Calendar up until 2nd September 1752, when the change over to the Gregorian Calendar occurs. It will also take into account the 25th March new year in England.   
</p>
<p>
 There may be occasions when it is not possible to interpret a particular date, either because the system does not yet cater for that scheme or the scheme cannot be determined. In this case the scheme is held as a text description <span class="field">[desc]</span>. Such dates cannot be sorted and so will normally appear at the beginning of date sorted lists.
</p>

</div>

<hr />
<div id='valid'>
  <p>
    <a href="http://validator.w3.org/check?uri=referer"><img
        src="../valid-xhtml10-blue.png"
        alt="Valid XHTML 1.0 Strict" height="31" width="88" /></a>
  </p>
</div>

<div id='create-date'><p> 7<sup>th</sup> September 2010</p></div>

</div>
</body>
</html>
